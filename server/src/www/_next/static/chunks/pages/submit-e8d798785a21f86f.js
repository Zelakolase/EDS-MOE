(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{7398:function(e,t,n){"use strict";n.d(t,{u:function(){return y}});var r=n(1662),o=n(6871),i=n(1604),s=n(9703),a=n(1358),l=n(3139),c=n(1190),u=n(7294),d=n(7375),f=n(8698),p=n(6450);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var g={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},m=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];var b=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor"],x=(0,i.m$)(l.E.div),y=(0,i.Gp)((function(e,t){var n,l,y=(0,i.mq)("Tooltip",e),j=(0,i.Lr)(e),w=(0,i.Fg)(),O=j.children,k=j.label,C=j.shouldWrapChildren,P=j["aria-label"],D=j.hasArrow,S=j.bg,_=j.portalProps,E=j.background,I=j.backgroundColor,z=j.bgColor,T=v(j,b),R=null!=(n=null!=(l=null!=E?E:I)?l:S)?n:z;R&&(y.bg=R,y[r.j.arrowBg.var]=(0,s.K1)(w,"colors",R));var q,A=function(e){void 0===e&&(e={});var t=e,n=t.openDelay,o=void 0===n?0:n,i=t.closeDelay,a=void 0===i?0:i,l=t.closeOnClick,c=void 0===l||l,g=t.closeOnMouseDown,b=t.onOpen,x=t.onClose,y=t.placement,j=t.id,w=t.isOpen,O=t.defaultIsOpen,k=t.arrowSize,C=void 0===k?10:k,P=t.arrowShadowColor,D=t.arrowPadding,S=t.modifiers,_=t.isDisabled,E=t.gutter,I=t.offset,z=t.direction,T=v(t,m),R=(0,d.qY)({isOpen:w,defaultIsOpen:O,onOpen:b,onClose:x}),q=R.isOpen,A=R.onOpen,N=R.onClose,K=(0,r.D)({enabled:q,placement:y,arrowPadding:D,modifiers:S,gutter:E,offset:I,direction:z}),Z=K.referenceRef,M=K.getPopperProps,U=K.getArrowInnerProps,X=K.getArrowProps,B=(0,d.Me)(j,"tooltip"),F=u.useRef(null),W=u.useRef(),$=u.useRef(),G=u.useCallback((function(){_||(W.current=window.setTimeout(A,o))}),[_,A,o]),V=u.useCallback((function(){W.current&&clearTimeout(W.current),$.current=window.setTimeout(N,a)}),[a,N]),L=u.useCallback((function(){c&&V()}),[c,V]),Y=u.useCallback((function(){g&&V()}),[g,V]),H=u.useCallback((function(e){q&&"Escape"===e.key&&V()}),[q,V]);(0,f.b)("keydown",H),u.useEffect((function(){return function(){clearTimeout(W.current),clearTimeout($.current)}}),[]),(0,f.b)("mouseleave",V,(function(){return F.current}));var J=u.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),h({},e,{ref:(0,p.lq)(F,t,Z),onMouseEnter:(0,s.v0)(e.onMouseEnter,G),onClick:(0,s.v0)(e.onClick,L),onMouseDown:(0,s.v0)(e.onMouseDown,Y),onFocus:(0,s.v0)(e.onFocus,G),onBlur:(0,s.v0)(e.onBlur,V),"aria-describedby":q?B:void 0})}),[G,V,Y,q,B,L,Z]),Q=u.useCallback((function(e,t){var n;return void 0===e&&(e={}),void 0===t&&(t=null),M(h({},e,{style:h({},e.style,(n={},n[r.j.arrowSize.var]=C?(0,s.px)(C):void 0,n[r.j.arrowShadowColor.var]=P,n))}),t)}),[M,C,P]),ee=u.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),h({ref:t},T,e,{id:B,role:"tooltip",style:h({},e.style,{position:"relative",transformOrigin:r.j.transformOrigin.varRef})})}),[T,B]);return{isOpen:q,show:G,hide:V,getTriggerProps:J,getTooltipProps:ee,getTooltipPositionerProps:Q,getArrowProps:X,getArrowInnerProps:U}}(h({},T,{direction:w.direction}));if((0,s.HD)(O)||C)q=u.createElement(i.m$.span,h({tabIndex:0},A.getTriggerProps()),O);else{var N=u.Children.only(O);q=u.cloneElement(N,A.getTriggerProps(N.props,N.ref))}var K=!!P,Z=A.getTooltipProps({},t),M=K?(0,s.CE)(Z,["role","id"]):Z,U=(0,s.ei)(Z,["role","id"]);return k?u.createElement(u.Fragment,null,q,u.createElement(c.M,null,A.isOpen&&u.createElement(o.h_,_,u.createElement(i.m$.div,h({},A.getTooltipPositionerProps(),{__css:{zIndex:y.zIndex,pointerEvents:"none"}}),u.createElement(x,h({variants:g},M,{initial:"exit",animate:"enter",exit:"exit",__css:y}),k,K&&u.createElement(a.TX,U,P),D&&u.createElement(i.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},u.createElement(i.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:y.bg}}))))))):u.createElement(u.Fragment,null,O)}));s.Ts&&(y.displayName="Tooltip")},6475:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(9499),o=n(2640);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=n(7294),l=(a.useContext,a.useState);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=l(e),n=(0,o.Z)(t,2),i=n[0],a=n[1];function c(e,t){var n=e.split(".").map((function(e){return e.trim()}));return function(e){a(s(s({},i),{},(0,r.Z)({},n[0],s(s({},i[n[0]]),{},(0,r.Z)({},n[1],e)))))}(t)}function u(){a(e)}return[i,c,u]}},9452:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(9499),o=n(29),i=n(2640),s=n(7794),a=n.n(s),l=n(7294),c=n(1163),u=n(5325),d=n(480),f=n(6475),p=n(2775),h=n(313),v=n(150),g=n(7375),m=n(8609),b=n(8790),x=n(5193),y=n(4612),j=n(2684),w=n(6886),O=n(7398),k=n(4809),C=n(2821),P=n(7516),D=n(3854),S=n(5893);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,l.createContext)(),z=function(){return(0,l.useContext)(I)};function T(){var e=(0,u.a)(),t=e.isAuth,n=e.username,r=e.sessionID,s=(0,g.qY)(),v=(0,c.useRouter)(),y=(0,m.pm)(),j=(0,p.i)().innerWidth,w=(0,k.h4)({initialStep:0}),O=w.nextStep,C=(w.prevStep,w.setStep,w.reset),P=w.activeStep,D=(0,l.useState)(!1),_=D[0],z=D[1],T=(0,l.useState)(!1),K=T[0],Z=T[1],M=(0,l.useState)(null),U=M[0],X=M[1],B=(0,l.useState)(null),F=B[0],W=B[1],$=(0,f.O)({generateDocument:{document_name:"",writer:""},upload:{file:null}}),G=(0,i.Z)($,3),V=G[0],L=G[1],Y=G[2],H=[{label:"Generate Document",component:(0,S.jsx)(R,{})},{label:"Upload",component:(0,S.jsx)(q,{})},{label:"Done",component:(0,S.jsx)(A,{})}],J=(H.length,H.length-1);function Q(){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.Z)(a().mark((function e(){var t,n,o,i,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,o=V.generateDocument,i=o.document_name,s=o.writer,e.next=6,(0,d.W)("post","generate")({writer:s,session_id:r,doc_name:i});case 6:if("failed"!==(null===(l=e.sent)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status)){e.next=9;break}throw null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.msg;case 9:X(null===l||void 0===l?void 0:l.data),O(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),y({title:"Generate failed.",description:e.t0.toString(),status:"error",position:"top",duration:9e3,isClosable:!0});case 16:Z(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var te=function(){var e=(0,o.Z)(a().mark((function e(){var t,n,o,i,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),e.prev=1,null!==V.upload.file){e.next=4;break}throw"You should use a file to upload it.";case 4:if("undefined"!==typeof U.verify_code){e.next=6;break}throw"Verify code not found.";case 6:return o=V.upload.file,e.next=9,o.arrayBuffer();case 9:return i=e.sent,s={buffer:new Uint8Array(i),extension:o.name.split(".").at(-1)},e.next=13,(0,d.W)("post","doc")(s.buffer,{extension:s.extension,verfiy_code:null===U||void 0===U?void 0:U.verify_code,session_id:r,"Content-type":"application/text"});case 13:if("failed"!==(null===(l=e.sent)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status)){e.next=16;break}throw null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.msg;case 16:W(null===l||void 0===l?void 0:l.data),O(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),y({title:"Generate failed.",description:e.t0.toString(),status:"error",position:"top",duration:9e3,isClosable:!0});case 23:Z(!1);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){t||v.replace("/auth/login")})),(0,S.jsxs)(I.Provider,{value:E(E(E({generateDoc:Q,generatedDocResult:U,uploadDoc:te,uploadDocResult:F,stateSetter:L},V.generateDocument),V.upload),{},{setIsNextButtonDisabled:z,stateResetter:Y,stepsResetter:C}),children:[(0,S.jsxs)(b.Kq,{w:"full",h:"full",spacing:6,padding:4,justify:"space-around",align:"center",children:[(0,S.jsxs)(b.X6,{children:["Welcome, ",n]}),(0,S.jsx)(b.Kq,{w:"full",h:"full",children:(0,S.jsx)(k.Rg,{activeStep:P,labelOrientation:"vertical",children:H.map((function(e,t){var n=e.label,r=e.component;return(0,S.jsx)(k.h8,{alignSelf:j>h.Ei?"center":"auto",label:n,children:(0,S.jsx)(b.Kq,{w:"full",h:"full",align:"center",justify:"center",children:r})},t)}))})}),(0,S.jsx)(b.Ug,{alignSelf:"end",children:(0,S.jsx)(x.zx,{isDisabled:_,isLoading:K,size:"sm",onClick:(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=P,e.next=0===e.t0?3:1===e.t0?6:e.t0===J?9:11;break;case 3:return e.next=5,Q();case 5:case 8:case 11:return e.abrupt("break",12);case 6:return e.next=8,te();case 9:return s.onOpen(),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),children:P===H.length-1?"Finish":"Next"})})]}),(0,S.jsx)(N,{disclosure:s})]})}function R(){var e=z(),t=e.document_name,n=e.writer,r=e.stateSetter,o=e.setIsNextButtonDisabled;return(0,l.useEffect)((function(){[t,n].filter((function(e){return!e})).length>0?o(!0):o(!1)}),[t,n]),(0,S.jsxs)(b.Kq,{spacing:6,my:6,maxW:80,children:[(0,S.jsxs)(b.Kq,{w:"full",spacing:1,children:[(0,S.jsx)(b.Ug,{align:"end",children:(0,S.jsx)(b.X6,{fontSize:13,children:"Document Name"})}),(0,S.jsx)(y.II,{variant:"filled",value:t,onChange:function(e){return r("generateDocument.document_name",e.target.value)}})]}),(0,S.jsxs)(b.Kq,{children:[(0,S.jsx)(b.Ug,{align:"end",children:(0,S.jsx)(b.X6,{fontSize:13,children:"Writer"})}),(0,S.jsx)(y.II,{variant:"filled",value:n,onChange:function(e){return r("generateDocument.writer",e.target.value)}})]})]})}function q(){var e,t=z(),n=t.stateSetter,o=t.file,i=t.setIsNextButtonDisabled,s=t.generatedDocResult,a=(0,j.Sx)({xs:"sm",md:"lg"});return(0,l.useEffect)((function(){i(null===o)}),[o]),(0,S.jsxs)(S.Fragment,{children:[!s.verify_code&&(0,S.jsxs)(w.bZ,{status:"error",children:[(0,S.jsx)(w.zM,{}),(0,S.jsxs)("div",{children:["Verify code not found, Please"," ",(0,S.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return router.push("/support")},children:"contact us"})," ","to solve this problem."]})]}),(0,S.jsxs)(b.Kq,{w:"full",h:"full",spacing:6,justify:"center",align:"center",children:[s.verify_code&&(0,S.jsxs)(b.Kq,{spacing:0,children:[(0,S.jsx)(b.X6,{opacity:.5,fontSize:"x-small",children:"Verify code"}),(0,S.jsx)(b.X6,{children:s.verify_code})]}),(0,S.jsxs)(b.Kq,{align:"center",children:[(0,S.jsx)(b.xv,{children:"Please, Insert Verification code inside the document, then upload it below."}),(0,S.jsxs)(b.Ug,{children:[(0,S.jsx)(O.u,{hasArrow:!0,placement:"top",label:"Import the document which you need to verify",children:(0,S.jsxs)(b.xu,{position:"relative",w:"max-content",children:[(0,S.jsx)(x.zx,{size:a,rightIcon:(0,S.jsx)(C.aBR,{size:"1.4em"}),children:"Upload File"}),(0,S.jsx)(y.II,(e={w:"full",type:"file",accept:".pdf",left:0,onChange:function(e){var t=e.target.files[0];"undefined"!==typeof t&&n("upload.file",t)},top:0,cursor:"pointer",position:"absolute",opacity:0},(0,r.Z)(e,"w","full"),(0,r.Z)(e,"h","full"),e))]})}),(0,S.jsx)(b.Ug,{justify:"end",align:"end",w:"full",children:o&&(0,S.jsx)(v.UL,{file:o})})]})]})]})]})}function A(){var e=(0,c.useRouter)(),t=z().uploadDocResult;return(0,S.jsxs)(b.Kq,{align:"center",children:[["verify_code","public_code"].filter((function(e){return!t.hasOwnProperty(e)&&e.trim().length>0})).length>0&&(0,S.jsxs)(w.bZ,{status:"error",children:[(0,S.jsx)(w.zM,{}),(0,S.jsxs)("div",{children:["Some data isn't found, Please"," ",(0,S.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return e.push("/support")},children:"contact us"})," ","to solve this problem."]})]}),(0,S.jsx)(b.xv,{fontSize:18,children:"The document is uploaded successfully !"}),(0,S.jsx)(b.iz,{}),(0,S.jsx)(b.Kq,{children:["public_code","verify_code"].map((function(e){return(0,S.jsxs)(b.Kq,{spacing:.5,children:[(0,S.jsx)(b.X6,{opacity:.5,fontSize:10,textTransform:"capitalize",children:e.replace(/_/g," ")}),(0,S.jsx)(b.X6,{size:"lg",children:t[e]||"Error: Not found"})]})}))})]})}function N(e){var t=e.disclosure,n=(0,c.useRouter)(),r=z(),o=r.stateResetter,i=r.stepsResetter;return(0,S.jsx)(v.aR,E(E({},t),{},{header:"Submit more? ",footer:(0,S.jsxs)(b.Ug,{justify:"space-between",w:"full",children:[(0,S.jsx)(x.zx,{leftIcon:(0,S.jsx)(P.DaR,{size:"1.4em"}),size:"sm",onClick:function(){return n.push("/")},children:"Back Home"}),(0,S.jsx)(x.zx,{size:"sm",leftIcon:(0,S.jsx)(D.KbN,{size:"1.4em"}),onClick:function(){o(),i(),t.onClose()},children:"Submit more"})]}),children:(0,S.jsxs)(b.xv,{children:["Do you want to submit more documents or that","'","s enough for this day?"]})}))}},1518:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/submit",function(){return n(9452)}])},2640:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[612,774,888,179],(function(){return t=1518,e(e.s=t);var t}));var t=e.O();_N_E=t}]);