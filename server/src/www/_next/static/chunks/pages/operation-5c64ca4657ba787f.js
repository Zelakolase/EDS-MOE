(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{7398:function(e,n,t){"use strict";t.d(n,{u:function(){return w}});var r=t(1662),o=t(6871),i=t(1604),a=t(9703),l=t(1358),s=t(3139),c=t(1190),u=t(7294),d=t(7375),p=t(8698),f=t(6450);function g(){return g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g.apply(this,arguments)}function v(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var h={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},m=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];var x=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor"],b=(0,i.m$)(s.E.div),w=(0,i.Gp)((function(e,n){var t,s,w=(0,i.mq)("Tooltip",e),j=(0,i.Lr)(e),y=(0,i.Fg)(),O=j.children,C=j.label,S=j.shouldWrapChildren,k=j["aria-label"],D=j.hasArrow,P=j.bg,E=j.portalProps,I=j.background,_=j.backgroundColor,T=j.bgColor,z=v(j,x),q=null!=(t=null!=(s=null!=I?I:_)?s:P)?t:T;q&&(w.bg=q,w[r.j.arrowBg.var]=(0,a.K1)(y,"colors",q));var A,N=function(e){void 0===e&&(e={});var n=e,t=n.openDelay,o=void 0===t?0:t,i=n.closeDelay,l=void 0===i?0:i,s=n.closeOnClick,c=void 0===s||s,h=n.closeOnMouseDown,x=n.onOpen,b=n.onClose,w=n.placement,j=n.id,y=n.isOpen,O=n.defaultIsOpen,C=n.arrowSize,S=void 0===C?10:C,k=n.arrowShadowColor,D=n.arrowPadding,P=n.modifiers,E=n.isDisabled,I=n.gutter,_=n.offset,T=n.direction,z=v(n,m),q=(0,d.qY)({isOpen:y,defaultIsOpen:O,onOpen:x,onClose:b}),A=q.isOpen,N=q.onOpen,K=q.onClose,R=(0,r.D)({enabled:A,placement:w,arrowPadding:D,modifiers:P,gutter:I,offset:_,direction:T}),U=R.referenceRef,M=R.getPopperProps,X=R.getArrowInnerProps,W=R.getArrowProps,Z=(0,d.Me)(j,"tooltip"),B=u.useRef(null),F=u.useRef(),$=u.useRef(),G=u.useCallback((function(){E||(F.current=window.setTimeout(N,o))}),[E,N,o]),L=u.useCallback((function(){F.current&&clearTimeout(F.current),$.current=window.setTimeout(K,l)}),[l,K]),V=u.useCallback((function(){c&&L()}),[c,L]),H=u.useCallback((function(){h&&L()}),[h,L]),Y=u.useCallback((function(e){A&&"Escape"===e.key&&L()}),[A,L]);(0,p.b)("keydown",Y),u.useEffect((function(){return function(){clearTimeout(F.current),clearTimeout($.current)}}),[]),(0,p.b)("mouseleave",L,(function(){return B.current}));var J=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),g({},e,{ref:(0,f.lq)(B,n,U),onMouseEnter:(0,a.v0)(e.onMouseEnter,G),onClick:(0,a.v0)(e.onClick,V),onMouseDown:(0,a.v0)(e.onMouseDown,H),onFocus:(0,a.v0)(e.onFocus,G),onBlur:(0,a.v0)(e.onBlur,L),"aria-describedby":A?Z:void 0})}),[G,L,H,A,Z,V,U]),Q=u.useCallback((function(e,n){var t;return void 0===e&&(e={}),void 0===n&&(n=null),M(g({},e,{style:g({},e.style,(t={},t[r.j.arrowSize.var]=S?(0,a.px)(S):void 0,t[r.j.arrowShadowColor.var]=k,t))}),n)}),[M,S,k]),ee=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),g({ref:n},z,e,{id:Z,role:"tooltip",style:g({},e.style,{position:"relative",transformOrigin:r.j.transformOrigin.varRef})})}),[z,Z]);return{isOpen:A,show:G,hide:L,getTriggerProps:J,getTooltipProps:ee,getTooltipPositionerProps:Q,getArrowProps:W,getArrowInnerProps:X}}(g({},z,{direction:y.direction}));if((0,a.HD)(O)||S)A=u.createElement(i.m$.span,g({tabIndex:0},N.getTriggerProps()),O);else{var K=u.Children.only(O);A=u.cloneElement(K,N.getTriggerProps(K.props,K.ref))}var R=!!k,U=N.getTooltipProps({},n),M=R?(0,a.CE)(U,["role","id"]):U,X=(0,a.ei)(U,["role","id"]);return C?u.createElement(u.Fragment,null,A,u.createElement(c.M,null,N.isOpen&&u.createElement(o.h_,E,u.createElement(i.m$.div,g({},N.getTooltipPositionerProps(),{__css:{zIndex:w.zIndex,pointerEvents:"none"}}),u.createElement(b,g({variants:h},M,{initial:"exit",animate:"enter",exit:"exit",__css:w}),C,R&&u.createElement(l.TX,X,k),D&&u.createElement(i.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},u.createElement(i.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:w.bg}}))))))):u.createElement(u.Fragment,null,O)}));a.Ts&&(w.displayName="Tooltip")},3779:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(n),t.d(n,{default:function(){return E}});var i=t(29),a=t(9499),l=t(7794),s=t.n(l),c=t(7294),u=t(1163),d=t(5325),p=t(480),f=t(2775),g=t(313),v=t(2043),h=t(8609),m=t(8790),x=t(5193),b=t(4612),w=t(2684),j=t(7398),y=t(4809),O=t(2821),C=t(5893);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D=(0,c.createContext)(),P=function(){return(0,c.useContext)(D)};function E(){var e=(0,d.a)(),n=e.isSignedIn,t=e.username,r=e.sessionID,l=(0,u.useRouter)(),v=(0,h.pm)(),b=(0,f.i)().innerWidth,w=(0,y.h4)({initialStep:0}),j=w.nextStep,O=(w.prevStep,w.setStep,w.reset,w.activeStep),S=(0,c.useState)(!1),P=S[0],E=S[1],z=(0,c.useState)(!1),q=z[0],A=z[1],N=(0,c.useState)(null),K=N[0],R=N[1],U=(0,c.useState)(null),M=U[0],X=(U[1],(0,c.useState)({generateDocument:{document_name:"",date:"",writer:""},upload:{file:null}})),W=X[0],Z=X[1];var B=[{label:"Generate Document",component:(0,C.jsx)(I,{})},{label:"Upload",component:(0,C.jsx)(_,{})},{label:"Done",component:(0,C.jsx)(T,{})}],F=O===B.length-1;function $(){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(s().mark((function e(){var n,t,o,i,a,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,o=W.generateDocument,i=o.documentName,a=o.date,l=o.writer,e.next=6,(0,p.W)("post","generate")({doc_name:i,date:a,writer:l,session_id:r});case 6:if("failed"!==(null===(c=e.sent)||void 0===c||null===(n=c.data)||void 0===n?void 0:n.status)){e.next=9;break}throw null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.msg;case 9:R(null===c||void 0===c?void 0:c.data),j(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v({title:"Generate failed.",description:e.t0.toString(),status:"error",position:"top",duration:9e3,isClosable:!0});case 16:A(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function L(){return V.apply(this,arguments)}function V(){return(V=(0,i.Z)(s().mark((function e(){var n,t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,(0,p.W)("post","genrate").apply(void 0,o({session_id:r}));case 4:if("failed"!==(null===(i=e.sent)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.status)){e.next=7;break}throw null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.msg;case 7:setGeneratedDocResilt(null===i||void 0===i?void 0:i.data),j(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v({title:"Generate failed.",description:e.t0.toString(),status:"error",position:"top",duration:9e3,isClosable:!0});case 14:A(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){n||l.replace("/auth/login")})),(0,C.jsx)(D.Provider,{value:k(k(k({generateDoc:$,generatedDocResult:K,uploadDoc:L,uploadDocResult:M,stateSetter:function(e,n){var t=e.split(".").map((function(e){return e.trim()}));Z((function(e){return k(k({},e),{},(0,a.Z)({},t[0],k(k({},e[t[0]]),{},(0,a.Z)({},t[1],n))))}))}},W.generateDocument),W.upload),{},{setIsNextButtonDisabled:E}),children:(0,C.jsxs)(m.Kq,{w:"full",h:"full",spacing:6,padding:4,justify:"space-around",align:"center",children:[(0,C.jsxs)(m.X6,{children:["Welcome, ",t]}),(0,C.jsx)(m.Kq,{w:"full",h:"full",children:(0,C.jsx)(y.Rg,{activeStep:O,labelOrientation:"vertical",children:B.map((function(e,n){var t=e.label,r=e.component;return(0,C.jsx)(y.h8,{alignSelf:b>g.Ei?"center":"auto",label:t,children:(0,C.jsx)(m.Kq,{w:"full",h:"full",align:"center",justify:"center",children:r})},n)}))})}),(0,C.jsx)(m.Ug,{alignSelf:"end",children:(0,C.jsx)(x.zx,{isDisabled:P,isLoading:q,size:"sm",onClick:(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=O,e.next=0===e.t0?3:1===e.t0?6:e.t0===F?9:11;break;case 3:return e.next=5,$();case 5:case 8:case 11:return e.abrupt("break",12);case 6:return e.next=8,L();case 9:return l.push("/"),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),children:O===B.length-1?"Finish":"Next"})})]})})}function I(){var e=(0,c.useRef)(),n=P(),t=n.document_name,r=n.writer,o=n.date,i=n.stateSetter,a=n.setIsNextButtonDisabled;return(0,c.useEffect)((function(){[t,r,o].filter((function(e){return!e})).length>0?a(!0):a(!1)}),[t,r,o]),(0,C.jsxs)(m.Kq,{spacing:6,my:6,maxW:80,children:[(0,C.jsxs)(m.Kq,{w:"full",spacing:1,children:[(0,C.jsx)(m.Ug,{align:"end",children:(0,C.jsx)(m.X6,{fontSize:13,children:"Document Name"})}),(0,C.jsx)(b.II,{variant:"filled",value:t,onChange:function(e){return i("generateDocument.document_name",e.target.value)}})]}),(0,C.jsxs)(m.Kq,{w:"full",spacing:1,children:[(0,C.jsx)(m.Ug,{align:"end",children:(0,C.jsx)(m.X6,{fontSize:13,children:"Date of publication"})}),(0,C.jsx)(m.xu,{position:"relative",w:"full",display:"flex",alignContent:"center",children:(0,C.jsx)(b.II,{variant:"filled",value:o,ref:e,type:"date",onChange:function(e){return i("generateDocument.date",e.target.value)}})})]}),(0,C.jsxs)(m.Kq,{children:[(0,C.jsx)(m.Ug,{align:"end",children:(0,C.jsx)(m.X6,{fontSize:13,children:"Writer"})}),(0,C.jsx)(b.II,{variant:"filled",value:r,onChange:function(e){return i("generateDocument.writer",e.target.value)}})]})]})}function _(){var e,n=P(),t=n.stateSetter,r=n.file,o=n.setIsNextButtonDisabled,i=(0,w.Sx)({xs:"sm",md:"lg"});return(0,c.useEffect)((function(){o(null===r)}),[r]),(0,C.jsxs)(m.Kq,{w:"full",h:"full",spacing:2,justify:"center",align:"center",children:[(0,C.jsx)(m.xv,{children:"Please, Insert Verification code inside the document, then upload it below."}),(0,C.jsxs)(m.Ug,{children:[(0,C.jsx)(j.u,{hasArrow:!0,placement:"top",label:"Import the document which you need to verify",children:(0,C.jsxs)(m.xu,{position:"relative",w:"max-content",children:[(0,C.jsx)(x.zx,{size:i,rightIcon:(0,C.jsx)(O.aBR,{size:"1.4em"}),children:"Upload File"}),(0,C.jsx)(b.II,(e={w:"full",type:"file",accept:".pdf",left:0,onChange:function(e){var n=e.target.files[0];console.log(n),"undefined"!==typeof n&&t("upload.file",n)},top:0,cursor:"pointer",position:"absolute",opacity:0},(0,a.Z)(e,"w","full"),(0,a.Z)(e,"h","full"),e))]})}),(0,C.jsx)(m.Ug,{justify:"end",align:"end",w:"full",children:r&&(0,C.jsx)(v.UL,{file:r})})]})]})}function T(){return(0,C.jsxs)(m.Kq,{align:"center",children:[(0,C.jsx)(m.xv,{fontSize:18,children:"The document is uploaded successfully !"}),(0,C.jsx)(m.iz,{}),(0,C.jsxs)(m.Kq,{children:[(0,C.jsxs)(m.Kq,{spacing:0,children:[(0,C.jsx)(m.X6,{fontSize:12,children:"Public code"}),(0,C.jsx)(m.xv,{children:"[Pubic code placeholder]"})]}),(0,C.jsxs)(m.Kq,{spacing:0,children:[(0,C.jsx)(m.X6,{fontSize:12,children:"Verification code"}),(0,C.jsx)(m.xv,{children:"[Verification code placeholder]"})]})]})]})}},1736:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/operation",function(){return t(3779)}])}},function(e){e.O(0,[612,774,888,179],(function(){return n=1736,e(e.s=n);var n}));var n=e.O();_N_E=n}]);